{"version":3,"sources":["src/config.js","src/summaryView.js","src/fullView.js","src/index.js"],"names":["typesMapping","key","icon","icon_service_1","icon_service_2","icon_service_3","tagsMapping","icon_tag_4","icon_tag_5","icon_tag_6","woosmapViewOptions","style","default","url","marker_agency","anchor","x","y","selectedIcon","marker_selected","scaledSize","height","width","numberedIcon","tileStyle","color","size","minSize","breakPoint","fitBounds","mapsProviderOptions","provider","localities","types","componentRestrictions","country","availableServices","fr","configLocator","maps","woosmapview","datasource","max_responses","max_distance","routeProvider","distanceMatrixProvider","internationalization","lang","period","theme","primary_color","filters","propertyType","title","choices","innerOperator","woosmapPublicKey","getTypesIcons","properties","tags","length","map","type","typeIcon","find","c","join","getOpeningLabel","openLabel","openClass","open","open_now","next_opening","_dateIsToday","date","today","Date","getUTCFullYear","getUTCMonth","slice","getUTCDate","error","getOpeningHours","open_hours","hours","hoursSlice","start","end","getPhone","contact","phone","phone_icon","getDistanceAndTime","distanceLabel","distance_text","getCTA","renderSummaryView","name","capitalize","address","lines","store_photos","store_photo1","store_photo2","store_photo3","store_photo4","store_photo5","store_photo6","store_photo7","store_photo8","renderFullViewHeader","city","capabilities","getCapabilitiesElem","renderFullViewBody","charging_points","user_properties","charging_point","i","connectors","renderConnectors","renderPhoto","random","Math","floor","getEmail","email","email_icon","getContact","getFullSchedule","toLocaleString","weekday","weeklyOpening","weekly_opening","dayLabels","daysHoursHTMLTable","day","daysHours","some","hour","concat","currentDay","renderFullView","String","prototype","toLowerCase","replace","a","toUpperCase","loadWebApp","webapp","WebApp","setFilterPanelRenderer","children","div","document","createElement","className","innerHTML","forEach","item","appendChild","setFilterRenderer","label","selected","setFullStoreRenderer","store","myCustomContent","id","setSummaryStoreRenderer","mySummaryContent","setConf","isMobile","querySelector","clientWidth","render"],"mappings":"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","file":"src.fed067e8.js","sourceRoot":"..","sourcesContent":["import marker_agency from './images/markers/agency-1.svg'\nimport marker_selected from './images/markers/marker_selected.svg'\n\nimport icon_service_1 from './images/icons/nacelle.svg'\nimport icon_service_2 from './images/icons/nettoyage-1.svg'\nimport icon_service_3 from './images/icons/travaillerHauteur.svg'\n\nimport icon_tag_4 from './images/icons/gros-oeuvre-beton.svg'\nimport icon_tag_5 from './images/icons/isolation-decoration-finitions.svg'\nimport icon_tag_6 from './images/icons/soudure-plomberie-electricite.svg'\n\nexport const typesMapping = [\n    {key: \"agence-terrassement\", icon: icon_service_1},\n    {key: \"agence-k\", icon: icon_service_2},\n    {key: \"quai-elevation-terrassement\", icon: icon_service_1},\n    {key: \"agence-generaliste\", icon: icon_service_2},\n    {key: \"service-commercial-elevation\", icon: icon_service_1},\n    {key: \"generaliste-type-3\", icon: icon_service_3},\n    {key: \"service-commercial-terrassement\", icon: icon_service_3},\n    {key: \"agence-generaliste-terrassement-elevation\", icon: icon_service_1},\n    {key: \"generaliste-type-4\", icon: icon_service_2},\n    {key: \"scet-mode-region\", icon: icon_service_3},\n]\n\nexport const tagsMapping = [\n    {key: \"tag_1\", icon: icon_service_1},\n    {key: \"tag_2\", icon: icon_service_2},\n    {key: \"tag_3\", icon: icon_service_3},\n    {key: \"tag_4\", icon: icon_tag_4},\n    {key: \"tag_5\", icon: icon_tag_5},\n    {key: \"tag_6\", icon: icon_tag_6}\n]\nconst woosmapViewOptions = {\n    style: {\n        default: {\n            icon: {\n                url: marker_agency,\n                anchor: {\n                    x: 25,\n                    y: 25\n                }\n            },\n            selectedIcon: {\n                url: marker_selected,\n                scaledSize: {height: 70, width: 70},\n                anchor: {\n                    x: 35,\n                    y: 35\n                }\n            },\n            numberedIcon: {\n                url: marker_agency,\n                anchor: {\n                    x: 25,\n                    y: 25\n                }\n            },\n        },\n    },\n    tileStyle: {\n        color: '#FFC800',\n        size: 13,\n        minSize: 6\n    },\n    breakPoint: 10,\n    fitBounds: true\n}\n\nconst mapsProviderOptions = {\n    provider: \"woosmap\",\n    localities: {\n        types: [\n            \"locality\",\n            \"address\",\n            \"postal_code\",\n            \"metro_station\",\n            \"train_station\",\n            \"shopping\"\n        ],\n        componentRestrictions: {country: \"fr\"}\n    }\n}\n\nconst availableServices = [\n    {key: \"agence-terrassement\", fr: \"Terrassement\"},\n    {key: \"agence-k\", fr: \"TP\"},\n    {key: \"quai-elevation-terrassement\", fr: \"Élevation\"},\n    {key: \"agence-generaliste\", fr: \"Énergie\"},\n    {key: \"service-commercial-elevation\", fr: \"Module\"},\n    {key: \"generaliste-type-3\", fr: \"Signalisation\"},\n    {key: \"service-commercial-terrassement\", fr: \"Loca-réception\"},\n];\n\nexport const configLocator = {\n    maps: mapsProviderOptions,\n    woosmapview: woosmapViewOptions,\n    datasource: {\n        max_responses: 15,\n        max_distance: 0,\n        routeProvider: 'google',\n        distanceMatrixProvider: 'google'\n    },\n    internationalization: {\n        lang: \"fr\",\n        period: \"fr-fr\"\n    },\n    theme: {\n        primary_color: \"#FFC800\"\n    },\n    filters: {\n        filters: [\n            {\n                propertyType: \"type\",\n                title: {\n                    fr: \"Type d'Agence\"\n                },\n                choices: availableServices,\n                innerOperator: \"or\"\n            }\n        ]\n    }\n}\n\nexport const woosmapPublicKey = \"woos-f5927792-1f12-3c9e-aafb-7014c5a7b4f0\";","import {tagsMapping} from \"./config\";\nimport phone_icon from './images/icons/phone.svg'\n\nconst getTypesIcons = (properties) => {\n    if (properties.tags.length > 0) {\n        const types = properties.tags.map((type) => {\n            const typeIcon = tagsMapping.find(c => c.key === type).icon;\n            return typeIcon ? `<div class=\"icon\"><img src=${typeIcon}></div>` : ''\n        })\n        return `<div class=\"summary-types\">${types.join(\"\")}</div>`\n    }\n    return \"\";\n};\n\nconst getOpeningLabel = function (properties) {\n    let openLabel = \"Fermé\";\n    let openClass = \"\"\n\n    function _dateIsToday(date) {\n        let today = new Date();\n        today = today.getUTCFullYear() + \"-\" +\n            (\"0\" + (today.getUTCMonth() + 1)).slice(-2) + \"-\" +\n            (\"0\" + today.getUTCDate()).slice(-2);\n        return today === date;\n    }\n\n    try {\n        if (properties.open.open_now) {\n            openLabel = \"Ouvert\";\n            openClass = \"opening-open\"\n        } else if (properties.open.next_opening) {\n            if (_dateIsToday) {\n                openLabel = \"ouvre bientôt\"\n                openClass = \"opening-soon\"\n            } else {\n                openLabel += \"Fermé\"\n                openClass = \"opening-closed\"\n            }\n        }\n        if (openLabel !== \"\") {\n            return `<span class='open-label ${openClass}'>${openLabel}</span>`;\n        } else return \"\"\n    } catch (error) {\n        return \"\";\n    }\n};\n\nconst getOpeningHours = (properties) => {\n    if (properties.open && properties.open.open_hours) {\n        const hours = properties.open.open_hours.map((hoursSlice) => {\n            return hoursSlice ? `${hoursSlice.start}-${hoursSlice.end}` : ''\n        })\n\n        return `<div class='summary-hours'><div class='summary-title'>Horaires d'ouverture</div><div>${hours.join(\", \")}</div>${getOpeningLabel(properties)}</div>`;\n    }\n    return \"\"\n};\n\nconst getPhone = (properties) => {\n    return properties.contact.phone ? `<div class='summary-phone'><div class=\"icon\"><img src=\"${phone_icon}\"></div><a href=\"tel:${properties.contact.phone}\" onClick=\"event.stopPropagation();\">${properties.contact.phone}</a></div>` : \"\";\n};\n\nconst getDistanceAndTime = (properties) => {\n    const distanceLabel = properties.distance_text ? `${properties.distance_text}` : \"\";\n    return distanceLabel ? `<div class='summary-distance'>${distanceLabel}</div>` : \"\";\n};\n\nconst getCTA = (properties) => {\n    return `<div class=\"cta\">\n        <a href=\"https://www.kiloutou.fr/\" class=\"cta-button\" target=\"_blank\"\n           onClick=\"event.stopPropagation();\">\n            <span class=\"title\">Consulter la fiche</span></a>\n    </div>`\n}\n\nexport const renderSummaryView = ({properties}) => `<div class=\"summary-content\">\n      ${getDistanceAndTime(properties)}\n     <div class=\"summary-title\">${properties.name.capitalize()}</div>\n     <div class=\"summary-text\">${properties.address.lines.join(\", \").capitalize()}</div>\n     ${getTypesIcons(properties)}\n     ${getPhone(properties)}\n     ${getOpeningHours(properties)}\n     ${getCTA(properties)}\n     </div>`\n","import {tagsMapping} from \"./config\";\n\nimport store_photo1 from './images/photos/1.jpeg'\nimport store_photo2 from './images/photos/2.jpeg'\nimport store_photo3 from './images/photos/3.jpeg'\nimport store_photo4 from './images/photos/4.jpeg'\nimport store_photo5 from './images/photos/5.jpeg'\nimport store_photo6 from './images/photos/6.jpeg'\nimport store_photo7 from './images/photos/7.jpeg'\nimport store_photo8 from './images/photos/8.jpeg'\n\nconst store_photos = [store_photo1, store_photo2, store_photo3, store_photo4, store_photo5, store_photo6, store_photo7, store_photo8]\nimport phone_icon from \"./images/icons/phone.svg\";\nimport email_icon from \"./images/icons/email.svg\";\n\nconst getTypesIcons = (properties) => {\n    if (properties.tags.length > 0) {\n        const types = properties.tags.map((type) => {\n            const typeIcon = tagsMapping.find(c => c.key === type).icon;\n            return typeIcon ? `<div class=\"icon\"><img src=${typeIcon}></div>` : ''\n        })\n        return `<div class=\"summary-types\">${types.join(\"\")}</div>`\n    }\n    return \"\";\n};\n\nconst renderFullViewHeader = (properties) => {\n    const address = `${properties.address.lines}, ${properties.address.city}`;\n    const capabilities = getCapabilitiesElem(properties.tags)\n    return `<div class=\"section-station-head\">\n            <h3 class=\"station-title\">${address}</h3>\n            <div>${capabilities}</div>\n            </div><hr class=\"separator\">`\n}\n\nconst renderFullViewBody = (properties) => {\n    const charging_points = properties.user_properties[\"charging_points\"].map((charging_point, i) => {\n        const connectors = renderConnectors(charging_point);\n        return `<div>${connectors}</div>`\n    }).join(\"\")\n    return `<div class=\"section-station-body\">${charging_points}</div>`\n}\n\n\nexport const renderPhoto = (properties) => {\n    const random = Math.floor(Math.random() * store_photos.length);\n    return `<div class=\"store-photo\"><img src=\"${store_photos[random]}\"></div>`\n}\n\n\nconst getOpeningLabel = function (properties) {\n    let openLabel = \"Fermé\";\n    let openClass = \"\"\n\n    function _dateIsToday(date) {\n        let today = new Date();\n        today = today.getUTCFullYear() + \"-\" +\n            (\"0\" + (today.getUTCMonth() + 1)).slice(-2) + \"-\" +\n            (\"0\" + today.getUTCDate()).slice(-2);\n        return today === date;\n    }\n\n    try {\n        if (properties.open.open_now) {\n            openLabel = \"Ouvert\";\n            openClass = \"opening-open\"\n        } else if (properties.open.next_opening) {\n            if (_dateIsToday) {\n                openLabel = \"ouvre bientôt\"\n                openClass = \"opening-soon\"\n            } else {\n                openLabel += \"Fermé\"\n                openClass = \"opening-closed\"\n            }\n        }\n        if (openLabel !== \"\") {\n            return `<span class='open-label ${openClass}'>${openLabel}</span>`;\n        } else return \"\"\n    } catch (error) {\n        return \"\";\n    }\n};\n\nconst getPhone = (properties) => {\n    return properties.contact.phone ? `<div class='summary-phone'><div class=\"icon\"><img src=\"${phone_icon}\"></div><a href=\"tel:${properties.contact.phone}\" onClick=\"event.stopPropagation();\">${properties.contact.phone}</a></div>` : \"\";\n};\n\nconst getEmail = (properties) => {\n    return properties.contact.email ? `<div class='summary-phone'><div class=\"icon\"><img src=\"${email_icon}\"></div><a href=\"mailto:${properties.contact.email}\" onClick=\"event.stopPropagation();\">${properties.contact.email}</a></div>` : \"\";\n};\n\nfunction getContact(properties) {\n    return `<div className='full-contact'><h3 className='summary-title'>Contacts</h3>${getPhone(properties)}${getEmail(properties)}</div>`;\n}\n\nfunction getFullSchedule(properties) {\n    const today = new Date().toLocaleString('en-us', {weekday: 'long'});\n    const weeklyOpening = properties.weekly_opening;\n    let dayLabels = {\n        1: \"Lundi\",\n        2: \"Mardi\",\n        3: \"Mercredi\",\n        4: \"Jeudi\",\n        5: \"Vendredi\",\n        6: \"Samedi\",\n        7: \"Dimanche\"\n    };\n    let daysHoursHTMLTable = \"\";\n    if (weeklyOpening) {\n        for (var day in dayLabels) {\n            var daysHours = \"\";\n            if (weeklyOpening[day].hours.length === 0) {\n                daysHours = \"Fermé\";\n            } else {\n                weeklyOpening[day].hours.some(function (hour) {\n                    if (hour && hour[\"all-day\"]) {\n                        daysHours = \"24h/24\";\n                        return true;\n                    } else if (daysHours.length > 0) {\n                        daysHours += \", \".concat(hour.start, \"-\").concat(hour.end);\n                    } else {\n                        daysHours = \"\".concat(hour.start, \"-\").concat(hour.end);\n                    }\n                });\n            }\n            let currentDay = dayLabels[day] === today ? \"current-day\" : \"\"\n            daysHoursHTMLTable += `<tr class='${currentDay}'><td style='padding-right:10px'>${dayLabels[day]}</td><td>${daysHours}</td></tr>`;\n        }\n    }\n\n    return `<table class='hours-table'>${daysHoursHTMLTable}</table>`;\n\n}\n\nfunction getOpeningHours(properties) {\n    if (properties.weekly_opening) {\n        return `<div class='full-hours'><h3 class='summary-title'>Horaires d'ouverture</h3>${getFullSchedule(properties)}</div>`;\n    }\n    return \"\"\n}\n\n\nconst getCTA = () => {\n    return `<div class=\"cta\">\n        <a href=\"https://www.kiloutou.fr/\" class=\"cta-button\" target=\"_blank\"\n           onClick=\"event.stopPropagation();\">\n            <span class=\"title\">Consulter la fiche</span></a>\n    </div>`\n}\nexport const renderFullView = ({properties}) =>\n    `${renderPhoto(properties)}\n     <div class=\"full-content\">\n     <div class=\"full-title\"><h2>${properties.name.capitalize()}</h2></div>\n     <div class=\"full-text\">${properties.address.lines.join(\", \").capitalize()}</div>\n     ${getTypesIcons(properties)}\n     ${getOpeningHours(properties)}\n     ${getContact(properties)}\n     ${getCTA(properties)}\n     </div>`\n\n/*\n${getPhone(properties)}\n\n */","import \"./styles.scss\";\nimport {configLocator, woosmapPublicKey} from \"./config.js\";\nimport {renderSummaryView} from \"./summaryView.js\";\nimport {renderFullView} from \"./fullView.js\";\n\n\nString.prototype.capitalize = function () {\n    return this.toLowerCase().replace(/(?:^|\\s)\\S/g, function (a) {\n        return a.toUpperCase();\n    });\n};\n\nconst loadWebApp = () => {\n    const webapp = new WebApp(\"store-locator\", woosmapPublicKey);\n    webapp.setFilterPanelRenderer((title, children) => {\n        let div = document.createElement(\"div\");\n        div.className = \"filters\";\n        div.innerHTML += `<hr class=\"separator\">`\n        div.innerHTML += `<div class='filters-group'>${title}</div>`;\n        children.forEach((item) => div.appendChild(item));\n        return div;\n    });\n    webapp.setFilterRenderer((key, label, selected) => {\n        let div = document.createElement(\"div\");\n        const className = key;\n        div.className = selected ? \"active\" : \"\";\n        div.innerHTML = `<label class='filters-button'><input type=\"checkbox\"><span class=\"checkmark\"></span><div class='icon-service icon-${className}'></div><div style=\"height: 12px;\">${label}</div></label>`;\n        return div;\n    });\n\n    webapp.setFullStoreRenderer((store) => {\n        const myCustomContent = document.createElement(\"ul\");\n        myCustomContent.id = \"myCustomContentID\";\n        myCustomContent.innerHTML = renderFullView(store);\n        return myCustomContent;\n    });\n\n    webapp.setSummaryStoreRenderer((store) => {\n        const mySummaryContent = document.createElement(\"div\");\n        mySummaryContent.className = \"store-summary\";\n        mySummaryContent.innerHTML = renderSummaryView(store);\n        return mySummaryContent;\n    });\n\n    webapp.setConf(configLocator);\n    const isMobile = document.querySelector(\"body\").clientWidth < 750;\n    webapp.render(isMobile);\n};\n\nloadWebApp();\n"]}